import{x,k as V,o as l,h as p,b as t,a as h,d as a,u as o,S as y,w as $,f as m,c,e as f,n as _,v,t as b,l as S,F as U,r as N}from"./app-CDjddlxD.js";import{_ as A}from"./DashboardLayout-jvpOWrKU.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"row"},j={class:"col-12"},L={class:"card"},T={class:"card-header bg-primary text-white"},D={class:"d-flex justify-content-between align-items-center"},M={class:"card-body"},F={class:"mb-4"},I={class:"card custom-card mb-4"},z={class:"card-body"},G={class:"row"},O={class:"col-md-6"},P={class:"mb-3"},R={key:0,class:"invalid-feedback"},q={class:"col-md-6"},H={class:"mb-3"},J={key:0,class:"invalid-feedback"},K={class:"mb-4"},Q={class:"card custom-card"},W={class:"card-body"},X={key:0,class:"alert alert-info"},Y={key:1},Z={class:"table-responsive"},tt={class:"table table-striped table-hover"},st=["onUpdate:modelValue"],et={key:0,class:"invalid-feedback"},ot=["onUpdate:modelValue"],at={key:0,class:"invalid-feedback"},lt={class:"text-center"},it=["onClick"],nt={class:"d-flex justify-content-between mt-4"},dt=["disabled"],ct={__name:"Edit",props:{contact:Object,contactLists:Array},setup(k){const r=k,e=x({title:r.contact.title,is_active:r.contact.is_active,contact_lists:r.contactLists.map(i=>({id:i.id,name:i.name,telephone:i.telephone})),updated_by:null});function C(){e.contact_lists.push({name:"",telephone:""})}function w(i){e.contact_lists.splice(i,1)}const g=()=>{e.put(route("contacts.update",r.contact.id),{onSuccess:()=>{}})};return(i,s)=>(l(),V(A,null,{default:p(()=>[t("div",E,[t("div",j,[t("div",L,[t("div",T,[t("div",D,[s[3]||(s[3]=t("h3",{class:"card-title"},[t("i",{class:"fas fa-edit me-2"}),a("Edit Contact ")],-1)),h(o(y),{href:i.route("contacts.index"),class:"btn btn-outline-light btn-sm"},{default:p(()=>s[2]||(s[2]=[t("i",{class:"fas fa-arrow-left me-1"},null,-1),a(" Back to Contacts ")])),_:1},8,["href"])])]),t("div",M,[t("form",{onSubmit:$(g,["prevent"])},[t("div",F,[t("div",I,[s[8]||(s[8]=t("div",{class:"card-header bg-info text-white"},[t("h5",{class:"mb-0"},[t("i",{class:"fas fa-address-card me-2"}),a("Contact Group Details ")])],-1)),t("div",z,[t("div",G,[t("div",O,[t("div",P,[s[4]||(s[4]=t("label",{for:"title",class:"form-label fw-bold"},[a("Title "),t("span",{class:"text-danger"},"*")],-1)),m(t("input",{type:"text",id:"title","onUpdate:modelValue":s[0]||(s[0]=n=>o(e).title=n),class:_(["form-control",{"is-invalid":o(e).errors.title}]),placeholder:"Enter contact group title"},null,2),[[v,o(e).title]]),o(e).errors.title?(l(),c("div",R,b(o(e).errors.title),1)):f("",!0)])]),t("div",q,[t("div",H,[s[6]||(s[6]=t("label",{for:"is_active",class:"form-label fw-bold"},"Status",-1)),s[7]||(s[7]=t("br",null,null,-1)),m(t("select",{id:"is_active","onUpdate:modelValue":s[1]||(s[1]=n=>o(e).is_active=n),class:_(["form-select",{"is-invalid":o(e).errors.is_active}])},s[5]||(s[5]=[t("option",{value:1},"Active",-1),t("option",{value:0},"Inactive",-1)]),2),[[S,o(e).is_active]]),o(e).errors.is_active?(l(),c("div",J,b(o(e).errors.is_active),1)):f("",!0)])])])])])]),t("div",K,[t("div",Q,[t("div",{class:"card-header bg-light d-flex justify-content-between align-items-center"},[s[10]||(s[10]=t("h5",{class:"mb-0"},[t("i",{class:"fas fa-users me-2"}),a("Contact List ")],-1)),t("button",{type:"button",class:"btn btn-sm btn-primary",onClick:C},s[9]||(s[9]=[t("i",{class:"fas fa-plus me-1"},null,-1),a(" Add Contact ")]))]),t("div",W,[o(e).contact_lists.length===0?(l(),c("div",X,s[11]||(s[11]=[t("i",{class:"fas fa-info-circle me-2"},null,-1),a(' No contacts added yet. Click the "Add Contact" button to add contacts. ')]))):(l(),c("div",Y,[t("div",Z,[t("table",tt,[s[13]||(s[13]=t("thead",{class:"bg-light"},[t("tr",null,[t("th",{style:{width:"45%"}},[t("i",{class:"fas fa-user me-1"}),a(" Name ")]),t("th",{style:{width:"40%"}},[t("i",{class:"fas fa-phone me-1"}),a(" Telephone ")]),t("th",{style:{width:"15%"},class:"text-center"}," Action ")])],-1)),t("tbody",null,[(l(!0),c(U,null,N(o(e).contact_lists,(n,d)=>(l(),c("tr",{key:d},[t("td",null,[m(t("input",{type:"text","onUpdate:modelValue":u=>n.name=u,class:_(["form-control",{"is-invalid":o(e).errors[`contact_lists.${d}.name`]}]),placeholder:"Contact name"},null,10,st),[[v,n.name]]),o(e).errors[`contact_lists.${d}.name`]?(l(),c("div",et,b(o(e).errors[`contact_lists.${d}.name`]),1)):f("",!0)]),t("td",null,[m(t("input",{type:"text","onUpdate:modelValue":u=>n.telephone=u,class:_(["form-control",{"is-invalid":o(e).errors[`contact_lists.${d}.telephone`]}]),placeholder:"Phone number"},null,10,ot),[[v,n.telephone]]),o(e).errors[`contact_lists.${d}.telephone`]?(l(),c("div",at,b(o(e).errors[`contact_lists.${d}.telephone`]),1)):f("",!0)]),t("td",lt,[t("button",{type:"button",class:"btn btn-sm btn-outline-danger",onClick:u=>w(d),title:"Remove Contact"},s[12]||(s[12]=[t("i",{class:"fas fa-trash"},null,-1)]),8,it)])]))),128))])])])]))])])]),t("div",nt,[h(o(y),{href:i.route("contacts.index"),class:"btn btn-outline-secondary"},{default:p(()=>s[14]||(s[14]=[t("i",{class:"fas fa-times me-1"},null,-1),a(" Cancel ")])),_:1},8,["href"]),t("button",{type:"submit",class:"btn btn-primary px-4",disabled:o(e).processing},s[15]||(s[15]=[t("i",{class:"fas fa-save me-1"},null,-1),a(" Update Contact ")]),8,dt)])],32)])])])])]),_:1}))}},ft=B(ct,[["__scopeId","data-v-c9a27697"]]);export{ft as default};
