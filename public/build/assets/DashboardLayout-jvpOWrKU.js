import{m as o,q as x,p as T,A as X,f as Z,C as ss,c as k,o as y,K as D,N as es,G as A,s as as,j as N,I as ns,a as f,b as s,w as d,d as u,t as $,n as t,O as ts,e as ls,h as m,u as g,S as h,B as os,F as is,z as rs}from"./app-CDjddlxD.js";import{_ as us}from"./_plugin-vue_export-helper-DlAUqK2U.js";const cs={__name:"LoadingBar",setup(V){const i=o(0),v=o(!1);let r=null;function n(){clearTimeout(r),v.value=!0,i.value=0,r=setTimeout(()=>{i.value=30,r=setTimeout(()=>{i.value=60,r=setTimeout(()=>{i.value=80},100)},100)},100)}function b(){clearTimeout(r),i.value=100,setTimeout(()=>{v.value=!1,setTimeout(()=>{i.value=0},300)},300)}const S=[];return x(()=>{const p=T.on("start",n);S.push(p);const w=T.on("finish",b);S.push(w)}),X(()=>{clearTimeout(r),S.forEach(p=>{typeof p=="function"&&p()})}),(p,w)=>Z((y(),k("div",{class:"loading-bar",style:D({width:`${i.value}%`,opacity:v.value?1:0,transition:"width 300ms ease-out"})},null,4)),[[ss,v.value]])}},ds=us(cs,[["__scopeId","data-v-ee4d6807"]]),vs={style:{display:"none"}},fs={__name:"ToastMessages",setup(V){const i=es(),v=A(),r=()=>{const n=v.props.flash||{};n.success&&i.success(n.success,{timeout:5e3}),n.error&&i.error(n.error,{timeout:7e3}),n.warning&&i.warning(n.warning,{timeout:5e3}),n.info&&i.info(n.info,{timeout:5e3})};return as(()=>v.props,n=>{n&&n.flash&&r()},{deep:!0}),x(()=>{r(),T.on("finish",()=>{setTimeout(()=>{r()},100)})}),(n,b)=>(y(),k("div",vs))}},ps={class:"main-header navbar navbar-expand navbar-white navbar-light"},ms={class:"navbar-nav"},gs={class:"nav-item"},hs={class:"navbar-nav ml-auto"},bs={class:"nav-item"},ws={class:"nav-link balance-display"},ks={key:0,class:"balance-label"},ys={key:1,class:"balance-label"},Ss={key:2,class:"balance-label"},_s={class:"balance-amount"},Cs=["disabled"],Ms={class:"nav-item"},Ls={class:"nav-item"},Es={class:"nav-item dropdown"},$s=["aria-expanded"],Ts={class:"dropdown-header text-center pb-2 pt-2 border-bottom"},Bs={class:"main-sidebar sidebar-dark-primary elevation-4"},Ds={class:"sidebar"},xs={class:"user-panel mt-3 pb-2 mb-2"},Us={class:"d-flex align-items-center"},Fs={class:"info"},As={class:"bg-dark rounded p-2 ml-2"},Vs={class:"mt-2"},Is={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},Os={class:"nav-item"},Ws={class:"nav-item"},zs={class:"nav-item"},Ps={class:"nav-item"},qs={class:"nav-item"},Ns={class:"nav-item"},js={class:"nav-item"},Gs={class:"nav-item"},Hs={class:"content-wrapper"},Ks={class:"content pt-4"},Rs={class:"container-fluid"},Ys={class:"main-footer"},Xs={__name:"DashboardLayout",props:{title:{type:String,required:!1}},setup(V){const i=o("0.00 USD"),v=o("USD"),r=o(0),n=o(!1),b=o(null),S=async()=>{var a,e;try{n.value=!0,b.value=null;const l=await rs.get(route("dashboard.balance"));l.data.success?(i.value=l.data.balance,v.value=l.data.balance.split(" ")[0],r.value=parseFloat(l.data.balance.split(" ")[1])):b.value=l.data.message||"Failed to fetch balance"}catch(l){b.value=((e=(a=l.response)==null?void 0:a.data)==null?void 0:e.message)||l.message||"Failed to fetch balance",console.error("Balance fetch error:",l)}finally{n.value=!1}};x(()=>{S()});const p=o(!1),w=o(!1),B=o(window.innerWidth<992),j=o(""),c=o([]),_=o(!1),L=o(!1),C=o(localStorage.getItem("darkMode")==="true"),I=N(()=>A().props.auth.user),G=N(()=>{const a=A().props.userPermissions;return a&&a.includes("user.create")});function H(){B.value?w.value=!w.value:p.value=!p.value}function U(a){c.value.includes(a)?c.value=c.value.filter(e=>e!==a):c.value.push(a)}function M(a){return c.value.includes(a)}function K(){_.value=!_.value}function R(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}function Y(){L.value=!L.value}function O(){T.post(route("logout"))}function F(){const a=window.location.pathname;j.value=a,a.includes("/sms")&&!c.value.includes("sms")&&c.value.push("sms"),a.includes("/contacts")&&!c.value.includes("contacts")&&c.value.push("contacts"),a.includes("/users")&&!c.value.includes("users")&&c.value.push("users")}function J(){C.value=!C.value,localStorage.setItem("darkMode",C.value.toString()),W()}function W(){document.body.classList.toggle("dark-mode",C.value);const a=document.querySelector(".main-header");a&&(C.value?(a.classList.add("navbar-dark"),a.classList.remove("navbar-light","navbar-white")):(a.classList.remove("navbar-dark"),a.classList.add("navbar-light","navbar-white")))}function z(a){const e=document.getElementById("userDropdown");_.value&&e&&!e.contains(a.target)&&(_.value=!1);const l=document.getElementById("userOptions"),E=document.querySelector(".sidebar .dropdown-toggle");L.value&&l&&E&&!l.contains(a.target)&&!E.contains(a.target)&&(L.value=!1)}function P(){B.value=window.innerWidth<992,B.value&&(w.value=!1)}const Q=()=>{const a=console.log;console.log=function(...e){e.length>0&&typeof e[0]=="string"&&(e[0].includes("event>>>>>")||e[0].includes("MessageEvent"))||a.apply(console,e)},window.addEventListener("message",e=>{e.origin===window.location.origin&&e.data&&typeof e.data=="object"&&e.data.source&&e.data.source.includes("content-script")&&e.stopImmediatePropagation()},!0)};return x(()=>{F(),Q(),W(),document.addEventListener("click",z),window.addEventListener("resize",P),F();const a=T.on("success",()=>{F()});window.inertiaEventCleanup=a}),ns(()=>{document.removeEventListener("click",z),window.removeEventListener("resize",P),typeof window.inertiaEventCleanup=="function"&&(window.inertiaEventCleanup(),window.inertiaEventCleanup=null)}),(a,e)=>{var l,E;return y(),k(is,null,[f(ds),f(fs),s("div",{class:t(["wrapper",{"sidebar-collapse":p.value,"sidebar-open":w.value&&B.value}])},[s("nav",ps,[s("ul",ms,[s("li",gs,[s("a",{class:"nav-link",href:"#",role:"button",onClick:d(H,["prevent"])},e[3]||(e[3]=[s("i",{class:"fas fa-bars"},null,-1)]))]),e[4]||(e[4]=s("li",{class:"nav-item d-none d-sm-inline-block"},[s("a",{href:"#",class:"nav-link"},"Home")],-1))]),s("ul",hs,[s("li",bs,[s("div",ws,[n.value?(y(),k("span",ks,e[5]||(e[5]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),u(" Loading... ")]))):b.value?(y(),k("span",ys,e[6]||(e[6]=[s("i",{class:"fas fa-exclamation-triangle text-warning"},null,-1),u(" Error ")]))):(y(),k("span",Ss,[s("span",_s,[e[7]||(e[7]=s("i",{class:"nav-icon fas fa-money-bill"},null,-1)),u(" BALANCE: "+$(v.value)+" "+$(r.value.toFixed(2)),1)]),s("button",{onClick:d(S,["stop"]),class:"balance-refresh",disabled:n.value},[s("i",{class:t(["fas fa-sync-alt",{"fa-spin":n.value}])},null,2)],8,Cs)]))])]),s("li",Ms,[s("a",{class:"nav-link",href:"#",role:"button",onClick:d(J,["prevent"])},[s("i",{class:t(C.value?"fas fa-sun":"fas fa-moon")},null,2)])]),s("li",Ls,[s("a",{class:"nav-link",href:"#",role:"button",onClick:d(R,["prevent"])},e[8]||(e[8]=[s("i",{class:"fas fa-expand-arrows-alt"},null,-1)]))]),s("li",Es,[s("a",{class:"nav-link",href:"#",id:"userDropdown",role:"button",onClick:d(K,["prevent"]),"aria-expanded":_.value},e[9]||(e[9]=[s("i",{class:"fas fa-user-circle"},null,-1)]),8,$s),s("div",{class:t(["dropdown-menu dropdown-menu-right",{show:_.value}]),"aria-labelledby":"userDropdown"},[s("div",Ts,[s("strong",null,$(((l=I.value)==null?void 0:l.name)||"Administrator"),1)]),e[11]||(e[11]=ts('<a href="#" class="dropdown-item py-2"><i class="fas fa-user mr-2 text-primary"></i> My Profile </a><a href="#" class="dropdown-item py-2"><i class="fas fa-cog mr-2 text-secondary"></i> Settings </a><div class="dropdown-divider"></div>',3)),s("a",{href:"#",class:"dropdown-item py-2",onClick:d(O,["prevent"])},e[10]||(e[10]=[s("i",{class:"fas fa-sign-out-alt mr-2 text-danger"},null,-1),u(" Sign Out ")]))],2)])])]),s("aside",Bs,[e[25]||(e[25]=s("a",{href:"/",class:"brand-link text-center py-3"},[s("img",{src:"/images/logo.png",alt:"Azam TV Logo",class:"img-fluid",style:{"max-width":"140px","margin-bottom":"5px",display:"block","margin-left":"auto","margin-right":"auto"}})],-1)),s("div",Ds,[s("div",xs,[s("div",Us,[e[12]||(e[12]=s("div",{class:"image pl-2"},[s("i",{class:"fas fa-user-circle fa-2x text-light"})],-1)),s("div",Fs,[s("a",{href:"#",class:"d-block dropdown-toggle",onClick:d(Y,["prevent"])},$(((E=I.value)==null?void 0:E.name)||"Administrator"),1)])]),s("div",{id:"userOptions",class:t(["mt-2",{"d-none":!L.value}])},[s("div",As,[s("a",{href:"#",class:"text-white d-block py-1 px-2 rounded hover-bg-light",onClick:d(O,["prevent"])},e[13]||(e[13]=[s("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),u(" Logout ")]))])],2)]),s("nav",Vs,[s("ul",Is,[s("li",Os,[f(g(h),{href:a.route("dashboard"),class:t(["nav-link",{active:a.$page.url==="/"||a.$page.url==="/dashboard"}])},{default:m(()=>e[14]||(e[14]=[s("i",{class:"nav-icon fas fa-tachometer-alt"},null,-1),s("p",null,"Dashboard",-1)])),_:1},8,["href","class"])]),s("li",{class:t(["nav-item",{"menu-open":M("sms")}])},[s("a",{href:"#",class:"nav-link",onClick:e[0]||(e[0]=d(q=>U("sms"),["prevent"]))},e[15]||(e[15]=[s("i",{class:"nav-icon fas fa-paper-plane"},null,-1),s("p",null,[u(" SMS Management "),s("i",{class:"fas fa-angle-left right"})],-1)])),s("ul",{class:"nav nav-treeview",style:D({display:M("sms")?"block":"none"})},[s("li",Ws,[f(g(h),{href:a.route("sms.create"),class:t(["nav-link",{active:a.$page.url.startsWith("/sms/send")}])},{default:m(()=>e[16]||(e[16]=[s("i",{class:"far fa-paper-plane nav-icon"},null,-1),s("p",null,"Send SMS",-1)])),_:1},8,["href","class"])]),s("li",zs,[f(g(h),{href:a.route("sms.index"),class:t(["nav-link",{active:a.$page.url==="/sms"||a.$page.url.startsWith("/sms?")}])},{default:m(()=>e[17]||(e[17]=[s("i",{class:"far fa-list-alt nav-icon"},null,-1),s("p",null,"SMS Management",-1)])),_:1},8,["href","class"])]),s("li",Ps,[f(g(h),{href:a.route("sms.scheduled"),class:t(["nav-link",{active:a.$page.url.startsWith("/sms/scheduled")}])},{default:m(()=>e[18]||(e[18]=[s("i",{class:"far fa-clock nav-icon"},null,-1),s("p",null,"Scheduled SMS",-1)])),_:1},8,["href","class"])])],4)],2),s("li",{class:t(["nav-item",{"menu-open":M("contacts")}])},[s("a",{href:"#",class:"nav-link",onClick:e[1]||(e[1]=d(q=>U("contacts"),["prevent"]))},e[19]||(e[19]=[s("i",{class:"nav-icon fas fa-address-book"},null,-1),s("p",null,[u(" Contacts "),s("i",{class:"fas fa-angle-left right"})],-1)])),s("ul",{class:"nav nav-treeview",style:D({display:M("contacts")?"block":"none"})},[s("li",qs,[f(g(h),{href:a.route("contacts.index"),class:t(["nav-link",{active:a.$page.url==="/contacts"||a.$page.url.startsWith("/contacts?")}])},{default:m(()=>e[20]||(e[20]=[s("i",{class:"far fa-list-alt nav-icon"},null,-1),s("p",null,"View Contacts",-1)])),_:1},8,["href","class"])]),s("li",Ns,[f(g(h),{href:a.route("contacts.create"),class:t(["nav-link",{active:a.$page.url.startsWith("/contacts/create")}])},{default:m(()=>e[21]||(e[21]=[s("i",{class:"fas fa-plus nav-icon"},null,-1),s("p",null,"Create Contact",-1)])),_:1},8,["href","class"])])],4)],2),G.value?(y(),k("li",{key:0,class:t(["nav-item",{"menu-open":M("users")}])},[s("a",{href:"#",class:"nav-link",onClick:e[2]||(e[2]=d(q=>U("users"),["prevent"]))},e[22]||(e[22]=[s("i",{class:"nav-icon fas fa-users"},null,-1),s("p",null,[u(" Users Management "),s("i",{class:"fas fa-angle-left right"})],-1)])),s("ul",{class:"nav nav-treeview",style:D({display:M("users")?"block":"none"})},[s("li",js,[f(g(h),{href:a.route("users.index"),class:t(["nav-link",{active:a.$page.url==="/users"||a.$page.url.startsWith("/users?")}])},{default:m(()=>e[23]||(e[23]=[s("i",{class:"far fa-user nav-icon"},null,-1),s("p",null,"View Users",-1)])),_:1},8,["href","class"])]),s("li",Gs,[f(g(h),{href:a.route("users.create"),class:t(["nav-link",{active:a.$page.url.startsWith("/users/create")}])},{default:m(()=>e[24]||(e[24]=[s("i",{class:"fas fa-user-plus nav-icon"},null,-1),s("p",null,"Create User",-1)])),_:1},8,["href","class"])])],4)],2)):ls("",!0)])])])]),s("div",Hs,[s("div",Ks,[s("div",Rs,[os(a.$slots,"default")])])]),s("footer",Ys,[s("strong",null,[u("Copyright Â© "+$(new Date().getFullYear())+" ",1),e[26]||(e[26]=s("a",{href:"#"},"Azam TV Bulk SMS",-1)),e[27]||(e[27]=u("."))]),e[28]||(e[28]=u(" All rights reserved. ")),e[29]||(e[29]=s("div",{class:"float-right d-none d-sm-inline-block"},[s("b",null,"Version"),u(" 1.0.0 ")],-1))])],2)],64)}}};export{Xs as _};
