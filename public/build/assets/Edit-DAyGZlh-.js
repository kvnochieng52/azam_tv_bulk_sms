import{x as w,k as h,o as t,h as x,b as o,w as U,c as a,e as d,f as m,u as s,n as u,v as p,t as i,F as v,r as b,l as V,i as E,d as g}from"./app-CDjddlxD.js";import{_ as C}from"./DashboardLayout-jvpOWrKU.js";import{T as _}from"./toast-DPMCFSd1.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"row mb-3"},q={class:"col-12"},B={class:"card"},M={class:"card-body"},N={class:"mb-3"},F={key:0,class:"invalid-feedback"},P={class:"mb-3"},A={key:0,class:"invalid-feedback"},D={class:"mb-3"},$={key:0,class:"invalid-feedback"},j={class:"mb-3"},z={key:0,class:"invalid-feedback"},I={class:"mb-3"},L={class:"mb-3"},O=["value"],R={key:0,class:"invalid-feedback"},G={class:"mb-3 form-check"},H={key:0,class:"invalid-feedback"},J={key:0,class:"alert alert-danger"},K={class:"mb-0"},Q=["disabled"],W={key:0},X={key:1},Y={__name:"Edit",props:{user:Object,roles:Array},setup(c){var f;const n=c,e=w({full_names:n.user.name,email:n.user.email,telephone:n.user.telephone,password:"",password_confirmation:"",role:(f=n.user.roles[0])==null?void 0:f.id,active:n.user.active??n.user.is_active}),k=()=>{e.put(`/users/${n.user.id}`,{preserveScroll:!0,onSuccess:()=>{_.success("User updated successfully!")},onError:y=>{_.error("Please fix the errors in the form.")}})};return(y,r)=>(t(),h(C,null,{default:x(()=>[o("div",T,[o("div",q,[o("div",B,[r[15]||(r[15]=o("div",{class:"card-header"},[o("h4",null,"Edit User")],-1)),o("div",M,[o("form",{onSubmit:U(k,["prevent"])},[o("div",N,[r[7]||(r[7]=o("label",{for:"full_names",class:"form-label"},"Full Names",-1)),m(o("input",{type:"text",class:u(["form-control",{"is-invalid":s(e).errors.full_names}]),id:"full_names","onUpdate:modelValue":r[0]||(r[0]=l=>s(e).full_names=l),required:""},null,2),[[p,s(e).full_names]]),s(e).errors.full_names?(t(),a("div",F,i(s(e).errors.full_names),1)):d("",!0)]),o("div",P,[r[8]||(r[8]=o("label",{for:"email",class:"form-label"},"Email",-1)),m(o("input",{type:"email",class:u(["form-control",{"is-invalid":s(e).errors.email}]),id:"email","onUpdate:modelValue":r[1]||(r[1]=l=>s(e).email=l),required:""},null,2),[[p,s(e).email]]),s(e).errors.email?(t(),a("div",A,i(s(e).errors.email),1)):d("",!0)]),o("div",D,[r[9]||(r[9]=o("label",{for:"telephone",class:"form-label"},"Telephone",-1)),m(o("input",{type:"text",class:u(["form-control",{"is-invalid":s(e).errors.telephone}]),id:"telephone","onUpdate:modelValue":r[2]||(r[2]=l=>s(e).telephone=l),required:""},null,2),[[p,s(e).telephone]]),s(e).errors.telephone?(t(),a("div",$,i(s(e).errors.telephone),1)):d("",!0)]),o("div",j,[r[10]||(r[10]=o("label",{for:"password",class:"form-label"},"Password (leave blank to keep current)",-1)),m(o("input",{type:"password",class:u(["form-control",{"is-invalid":s(e).errors.password}]),id:"password","onUpdate:modelValue":r[3]||(r[3]=l=>s(e).password=l)},null,2),[[p,s(e).password]]),s(e).errors.password?(t(),a("div",z,i(s(e).errors.password),1)):d("",!0)]),o("div",I,[r[11]||(r[11]=o("label",{for:"password_confirmation",class:"form-label"},"Confirm Password",-1)),m(o("input",{type:"password",class:"form-control",id:"password_confirmation","onUpdate:modelValue":r[4]||(r[4]=l=>s(e).password_confirmation=l)},null,512),[[p,s(e).password_confirmation]])]),o("div",L,[r[12]||(r[12]=o("label",{for:"role",class:"form-label"},"Role",-1)),m(o("select",{class:u(["form-select form-control",{"is-invalid":s(e).errors.role}]),id:"role","onUpdate:modelValue":r[5]||(r[5]=l=>s(e).role=l),required:""},[(t(!0),a(v,null,b(c.roles,l=>(t(),a("option",{key:l.id,value:l.id},i(l.name),9,O))),128))],2),[[V,s(e).role]]),s(e).errors.role?(t(),a("div",R,i(s(e).errors.role),1)):d("",!0)]),o("div",G,[m(o("input",{type:"checkbox",class:u(["form-check-input mr-2",{"is-invalid":s(e).errors.active}]),id:"active","onUpdate:modelValue":r[6]||(r[6]=l=>s(e).active=l),"true-value":"1","false-value":"0"},null,2),[[E,s(e).active]]),r[13]||(r[13]=o("label",{class:"form-check-label",for:"active"},"Active",-1)),s(e).errors.active?(t(),a("div",H,i(s(e).errors.active),1)):d("",!0)]),s(e).hasErrors?(t(),a("div",J,[o("ul",K,[(t(!0),a(v,null,b(s(e).errors,l=>(t(),a("li",{key:l},i(l),1))),128))])])):d("",!0),o("button",{type:"submit",class:"btn btn-primary",disabled:s(e).processing},[s(e).processing?(t(),a("span",W,r[14]||(r[14]=[o("span",{class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},null,-1),g(" Updating... ")]))):(t(),a("span",X,"Update"))],8,Q)],32)])])])])]),_:1}))}},oe=S(Y,[["__scopeId","data-v-114f2946"]]);export{oe as default};
